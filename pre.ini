[script]
n0=;*** Orignal downloaded from: http://www.hawkee.com/snippet/7667/ ( Written by: http://www.hawkee.com/profile/39642/ )
n1=alias -l setautofiles {
n2=  if $isfile(AutoTimeToday.txt) { var %x 1 | while ($read(AutoTimeToday.txt,%x)) { $+(.timer,$v1) off | inc %x } }
n3=  if $isfile(AutoTimeToday.txt) {  echo 4 -a * Auto 10-Minute-Prior TV Show Announcer Has Been Turned On!
n4=    var %x 1 | while ($read(AutoTimeToday.txt,%x)) { $+(.timer,$v1) $v1 1 1 .play $+(-t,$v1) # AutoShowToday.txt | inc %x } 
n5=  }
n6=}
n7=;**********************************************************************************************************************************
n8=on *:sockopen:tvqauto:{
n9=  var %tvqauto sockwrite -n tvqauto
n10=  %tvqauto GET /tools/quickschedule.php HTTP/1.1
n11=  %tvqauto Host: services.tvrage.com
n12=  %tvqauto $crlf
n13=}
n14=;**********************************************************************************************************************************
n15=on *:sockread:tvqauto:{ var %tvqinfoauto | sockread %tvqinfoauto
n16=  ;**********************************************************************************************************************************
n17=  if $regex(%tvqinfoauto,/\[TIME\](.*)\[\/TIME\]/i) { set -u7 %sTiME $asctime($ctime($date $regml(1)),HH:nn)
n18=    var %time $asctime($calc($ctime($date $regml(1)) - 600),HH:nn)
n19=    write AutoShowToday.txt $+([,%time,])
n20=    write AutoShowToday.txt 5Airing in the next 10 minutes ->
n21=    write AutoTimeToday.txt %time
n22=  }
n23=  ;**********************************************************************************************************************************
n24=  elseif $regex(%tvqinfoauto,/\[SHOW\](.*)\[\/SHOW\]/i) {
n25=    ;**********************************************************************************************************************************
n26=    set -u3 %tvqinfoauto_NetW $remove($mid(%tvqinfoauto,$pos(%tvqinfoauto,]),$calc($pos(%tvqinfoauto,^,1) -$pos(%tvqinfoauto,],1))),])
n27=    set -u3 %tvqinfoauto_TiTLE $remove($mid(%tvqinfoauto,$pos(%tvqinfoauto,^,1),$calc($pos(%tvqinfoauto,^,2) -$pos(%tvqinfoauto,^,1))),^)
n28=    set -u3 %tvqinfoauto_EP $remove($mid(%tvqinfoauto,$pos(%tvqinfoauto,^,2),$calc($pos(%tvqinfoauto,^,3) -$pos(%tvqinfoauto,^,2))),^)
n29=    set -u3 %tvqinfoauto_LiNK $remove($mid(%tvqinfoauto,$pos(%tvqinfoauto,^,3),$calc($pos(%tvqinfoauto,[,2) -$pos(%tvqinfoauto,^,3))),^)
n30=    ;**********************************************************************************************************************************
n31=    ;*** Output / How it spits out the iNFO
n32=    set -u3 %tvqinfoauto_SHOW $iif(%sTiME,$+(4,[14,$v1,4])) $+(15,%tvqinfoauto_TiTLE,) 14-4#14- $+(14,$replace(%tvqinfoauto_EP,x,15x14),) 14-4#14- $+(8,%tvqinfoauto_NetW,) $+(,$chr(40),2,%tvqinfoauto_LiNK,,$chr(41),)
n33=    ;**********************************************************************************************************************************
n34=    write AutoShowToday.txt %tvqinfoauto_SHOW
n35=  }
n36=  ;**********************************************************************************************************************************
n37=  elseif $regex(%tvqinfoauto,/\[DAY\](.*)\[\/DAY\]/i) { write AutoShowToday.txt $regml(1) 
n38=    write $+(-d,$lines(AutoShowToday.txt)) AutoShowToday.txt
n39=    if (($date(dd) = 30 && $chr(44) 31 !isin %xauto)) { set %xauto , 01 }
n40=    $iif(%xauto isin %tvqinfoauto,sockclose tvqauto) 
n41=  }
n42=  ;**********************************************************************************************************************************
n43=}
n44=menu * {
n45=  -
n46=  Enable Auto Announcer {
n47=    $iif($isfile(AutoTimeToday.txt),write -c AutoTimeToday.txt)
n48=    $iif($isfile(AutoShowToday.txt),write -c AutoShowToday.txt)
n49=    sock $+ $iif($sock(tvqauto),close,open) tvqauto services.tvrage.com 80
n50=    if ($date(dd) = 31) set -u5 %xauto , 01
n51=    else {
n52=      set -u5 %xauto $right($date(dd),1) 
n53=      set -u5 %xauto $+($left($date(mm),1),$calc(%xauto +1))
n54=      .timerxauto 1 1 setautofiles
n55=    }
n56=  }
n57=  Disable Auto Announcer {
n58=    if $isfile(AutoTimeToday.txt) { echo 4 -a * Auto Announcer Has Been Switched Off!
n59=      var %x 1 | while ($read(AutoTimeToday.txt,%x)) { $+(.timer,$v1) off | inc %x }
n60=      $iif($isfile(AutoShowToday.txt),.remove AutoShowToday.txt)
n61=      $iif($isfile(AutoTimeToday.txt),.remove AutoTimeToday.txt)
n62=    }
n63=  }
n64=  -
n65=}
